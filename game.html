<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Game - Click the Red Ball</title>
    <style>
        /* Use the same styles from your original game HTML */
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            width: 100vw;
            background-color: #1e1e1e; 
            font-family: Arial, sans-serif;
            margin: 0;
            overflow: hidden;
        }

        .timer {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #fff;
            font-size: 20px;
        }

        .score {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 48px;
            color: #fff;
        }

        .ball {
            position: absolute;
            bottom: 0;
            background-size: contain;
            background-repeat: no-repeat;
            cursor: pointer;
            animation: moveUp 5s linear infinite;
        }

        .red-ball {
            background-image: url('assets/icons/drop.png'); /* Replace with your red ball image */
        }

        .blue-ball {
            background-image: url('assets/icons/virus.png'); /* Replace with your blue ball image */
        }

        @keyframes moveUp {
            from {
                transform: translateY(0);
            }
            to {
                transform: translateY(-100vh);
            }
        }
    </style>
</head>
<body>
    <div class="timer">60s</div>
    <div class="score">0</div>

    <script>
        let score = 0;
        let timer = 60;
        let gameInterval, ballInterval;

        const scoreDisplay = document.querySelector('.score');
        const timerDisplay = document.querySelector('.timer');

        function formatScore(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        function createBall() {
            const ball = document.createElement('div');
            const size = Math.random() * 40 + 20;
            const position = Math.random() * (window.innerWidth - size);

            // Randomly choose between red and blue balls
            if (Math.random() < 0.75) { // 75% chance to create a red ball
                ball.classList.add('ball', 'red-ball');
                ball.style.animationDuration = (Math.random() * 2 + 3) + 's'; // Red balls move slowly (3s - 5s)
                ball.addEventListener('click', () => {
                    const points = Math.floor(Math.random() * 5) + 1;
                    score += points;
                    scoreDisplay.textContent = formatScore(score);
                    ball.remove();
                });
            } else { // 25% chance to create a blue ball
                ball.classList.add('ball', 'blue-ball');
                ball.style.animationDuration = (Math.random() * 1.5 + 1.5) + 's'; // Random duration for blue ball
                ball.addEventListener('click', () => {
                    const pointsLost = Math.floor(Math.random() * 3) + 1; // Lose 1-3 points
                    score -= pointsLost;
                    scoreDisplay.textContent = formatScore(score);
                    ball.remove();
                });
            }

            ball.style.width = size + 'px';
            ball.style.height = size + 'px';
            ball.style.left = position + 'px';

            document.body.appendChild(ball);
        }

        function startGame() {
            score = 0;
            scoreDisplay.textContent = formatScore(score);

            timerDisplay.textContent = `${timer}s`;

            gameInterval = setInterval(() => {
                timer--;
                timerDisplay.textContent = `${timer}s`;

                if (timer <= 0) {
                    endGame();
                }
            }, 1000);

            // Increase the frequency of ball creation while maintaining an average of 3 on screen
            ballInterval = setInterval(createBall, 600); // Creates a ball every 600 ms
        }

        function endGame() {
            clearInterval(gameInterval);
            clearInterval(ballInterval);

            document.querySelectorAll('.ball').forEach(ball => ball.remove());

            // Redirect to index.html after game ends
            window.location.href = 'index.html';
        }

        startGame();
    </script>
</body>
</html>
